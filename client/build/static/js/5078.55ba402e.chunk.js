"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5078],{5078:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(9379),o=t(5043),i=t(5748),n=t(9722),r=t(2115),l=t(579);function d(){const[e,s]=(0,o.useState)([]),[t,d]=(0,o.useState)(null),[c,p]=(0,o.useState)({ram:"",processor:"",storage:"",ssdStorage:"",location:"",version:"",division:"",status:"",assignedTo:"",description:""}),[m,x]=(0,o.useState)({}),[h,b]=(0,o.useState)([]),[u,g]=(0,o.useState)(1),[y,j]=(0,o.useState)(5),[v,N]=(0,o.useState)({desktopId:"",assignedTo:"",serialNumber:"",location:"",division:"",status:""}),f=["Assigned","Lost","Scrap","Available"],k=["Lamination","Processing","Garments","Coating","Bags","EBO-Coimbatore","EBO-Chennai","Abirami-Eco-Plast","Non-Oven(Garments-2)","Head-office","Spinning","Fine-Garments(Garments-3)","Fire-bird","Vedhanayagam Hospital","Lenatural","Govt.school project","Others"],w=async()=>{try{const e=await n.A.get("".concat("http://localhost:4500","/api/asset/desktop/all"));200===e.status?s(e.data):alert("Error fetching desktops: ".concat(e.data.message))}catch(e){alert("Error fetching desktops: ".concat(e.message))}},C=()=>{document.getElementById("my_modal_4").close(),d(null)},A=e=>{const{name:s,value:t}=e.target;p((0,a.A)((0,a.A)({},c),{},{[s]:t}))};(0,o.useEffect)((()=>{w(),(async()=>{try{const e=await n.A.get("".concat("http://localhost:4500","/api/employee"));200===e.status?b(e.data):console.error("Error fetching employees:",e.data.message||e.data)}catch(e){console.error("Error fetching employees:",e.response?e.response.data:e.message)}})()}),[]);const D=e.filter((e=>{var s;const{desktopId:t,assignedTo:a,serialNumber:o,location:i,division:n,status:r}=v,l=!t||e.desktopId.toLowerCase().includes(t.toLowerCase().trim()),d=!a||((null===(s=e.assignedTo)||void 0===s?void 0:s.employeeName)||"No employee assigned").toLowerCase().includes(a.toLowerCase().trim()),c=!o||e.serialNumber.toLowerCase().includes(o.toLowerCase().trim()),p=!i||(e.location||"N/A").toLowerCase().includes(i.toLowerCase().trim()),m=!n||(e.division||"N/A").toLowerCase().includes(n.toLowerCase().trim()),x=!r||e.status.toLowerCase().includes(r.toLowerCase().trim());return l&&d&&c&&p&&m&&x})),R=D.slice((u-1)*y,u*y),S=Math.ceil(D.length/y);return(0,l.jsx)("div",{children:(0,l.jsx)(i.A,{children:(0,l.jsx)("div",{className:"p-4 sm:ml-64",children:(0,l.jsxs)("div",{className:"p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:[(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("div",{className:"flex justify-end gap-4 mb-4",children:["desktopId","assignedTo","serialNumber","location","division","status"].map((s=>(0,l.jsxs)("select",{value:v[s],onChange:e=>N((0,a.A)((0,a.A)({},v),{},{[s]:e.target.value})),className:"input input-bordered input-info w-full max-w-xs",children:[(0,l.jsx)("option",{value:"",children:s}),"assignedTo"===s?e.filter((e=>{var s;return null===(s=e.assignedTo)||void 0===s?void 0:s.employeeName})).map((e=>{var s,t;return(0,l.jsx)("option",{value:null===(s=e.assignedTo)||void 0===s?void 0:s.employeeName,children:null===(t=e.assignedTo)||void 0===t?void 0:t.employeeName},e._id)})):"status"===s?f.map((e=>(0,l.jsx)("option",{value:e,children:e},e))):"division"===s?k.map((e=>(0,l.jsx)("option",{value:e,children:e},e))):Array.from(new Set(e.map((e=>e[s]||"N/A")))).map(((e,s)=>(0,l.jsx)("option",{value:e,children:e},s)))]},s)))}),(0,l.jsx)("h3",{className:"text-center font-bold",style:{color:"#FF735C"},children:"Desktop History / Update Desktop \ud83d\udcd1"}),(0,l.jsx)("div",{className:"overflow-x-auto py-9",children:(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"S.No"}),(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"Desktop ID"}),(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"Assigned To"}),(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"Location"}),(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"Division"}),(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"Status"}),(0,l.jsx)("th",{className:"font-bold",style:{color:"#FF735C"},children:"Actions"})]})}),(0,l.jsx)("tbody",{children:R.length>0?R.map(((e,s)=>{var t;return(0,l.jsxs)("tr",{className:"hover",children:[(0,l.jsx)("td",{children:(u-1)*y+s+1}),(0,l.jsx)("td",{children:e.desktopId}),(0,l.jsx)("td",{children:(null===(t=e.assignedTo)||void 0===t?void 0:t.employeeName)||"No employee assigned"}),(0,l.jsx)("td",{style:{color:e.location&&"N/A"!==e.location?"black":"red"},children:e.location||"N/A"}),(0,l.jsx)("td",{style:{color:e.division&&"N/A"!==e.division?"black":"red"},children:e.division||"N/A"}),(0,l.jsx)("td",{style:{color:"Available"===e.status?"green":"black"},children:e.status}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-sm btn-grey",onClick:()=>(e=>{var s,t;d(e),p({ram:e.ram||"",processor:e.processor||"",storage:e.storage||"",ssdStorage:e.ssdStorage||"",location:e.location||"",version:e.version||"",division:e.division||"",status:e.status||"",assignedTo:(null===(s=e.assignedTo)||void 0===s?void 0:s._id)||"",description:e.description||""}),x({ram:e.ram||"",processor:e.processor||"",storage:e.storage||"",ssdStorage:e.ssdStorage||"",location:e.location||"",version:e.version||"",division:e.division||"",status:e.status||"",assignedTo:null!==(t=e.assignedTo)&&void 0!==t&&t.employeeId?"".concat(e.assignedTo.employeeId," - ").concat(e.assignedTo.employeeName):"N/A",description:e.description||""}),document.getElementById("my_modal_4").showModal()})(e),children:"Edit"})})]},e._id)})):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"6",className:"text-center",children:"No desktops available."})})})]})}),(0,l.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,l.jsx)("button",{onClick:()=>{u>1&&g((e=>e-1))},className:"custom-btn",disabled:1===u,children:"Previous"}),(0,l.jsxs)("span",{children:["Page ",u," of ",S]}),(0,l.jsx)("button",{onClick:()=>{u<S&&g((e=>e+1))},className:"custom-btn",disabled:u===S,children:"Next"})]})]}),(0,l.jsx)("dialog",{id:"my_modal_4",className:"modal",children:(0,l.jsxs)("div",{className:"modal-box w-11/12 max-w-5xl",children:[(0,l.jsx)("h4",{className:"text-center font-bold",style:{color:"#FF735C"},children:"Update Desktop Details"}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await n.A.put("".concat("http://localhost:4500","/api/asset/desktop/").concat(t._id),c);200===e.status?(r.oR.success("Desktop updated successfully"),w(),C()):r.oR.error("Error updating desktop: ".concat(e.data.message))}catch(s){console.error("Error during update:",s.response?s.response.data:s.message),r.oR.error("Error updating desktop: ".concat(s.message))}},children:[(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(c).map((e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:e.charAt(0).toUpperCase()+e.slice(1)}),"assignedTo"===e?(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("select",{name:e,value:c[e],onChange:A,className:"input input-bordered w-full",children:[(0,l.jsx)("option",{value:"",children:"Select Employee"}),h.map((e=>(0,l.jsxs)("option",{value:e._id,children:[e.employeeId," - ",e.employeeName]},e._id)))]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["(Old: ",m[e]||"N/A",")"]})]}):"status"===e||"division"===e?(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("select",{name:e,value:c[e],onChange:A,className:"input input-bordered w-full",children:[(0,l.jsxs)("option",{value:"",children:["Select ",e]}),("status"===e?f:k).map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["(Old: ",m[e]||"N/A",")"]})]}):(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("input",{type:"text",name:e,value:c[e],onChange:A,className:"input input-bordered w-full"}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["(Old: ",m[e]||"N/A",")"]})]})]},e)))}),(0,l.jsxs)("div",{className:"modal-action justify-center",children:[(0,l.jsx)("button",{type:"submit",className:"custom-btn",children:"Update"}),(0,l.jsx)("button",{type:"button",className:"btn",onClick:C,children:"Close"})]})]})]})})]})})})})}},5748:(e,s,t)=>{t.d(s,{A:()=>i});t(5043);var a=t(7511),o=t(579);function i(e){let{children:s}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.A,{}),(0,o.jsx)("main",{className:"flex-1 p-4",children:s})]})}},7511:(e,s,t)=>{t.d(s,{A:()=>d});var a=t(9379),o=t(5043),i=t(9722),n=t(2134),r=t(579);function l(){const[e,s]=(0,o.useState)(!1),t=(0,n.Zp)();return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"navbar bg-base-100",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("a",{className:"btn btn-ghost text-xl ml-0 ",style:{color:"#FF735C"},children:"Asset Management"})}),(0,r.jsx)("div",{className:"flex-none gap-2",children:(0,r.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,r.jsx)("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",onClick:()=>{s(!e)},children:(0,r.jsx)("i",{className:"bx bx-cog text-xl",style:{color:"#FF735C"}})}),e&&(0,r.jsx)("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:(0,r.jsx)("li",{children:(0,r.jsx)("a",{onClick:async()=>{try{const e=await i.A.post("".concat("http://localhost:4500","/api/admin/logout"));200===e.status&&(localStorage.removeItem("token"),t("/"),alert(e.data.message))}catch(e){console.error("Error during logout:",e),alert("An error occurred while logging out")}},children:"Logout"})})})]})})]})})}function d(){const[e,s]=(0,o.useState)(!1),[t,i]=(0,o.useState)({});return(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",onClick:()=>{s(!e)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,r.jsx)("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]}),(0,r.jsx)(l,{}),(0,r.jsx)("aside",{className:"fixed top-0 left-0 z-40 w-64 h-screen transition-transform ".concat(e?"translate-x-0":"-translate-x-full"," sm:translate-x-0"),"aria-label":"Sidebar",children:(0,r.jsx)("div",{className:"h-full px-3 py-24 overflow-y-auto ",children:(0,r.jsx)("ul",{className:"space-y-2 font-medium",children:[{id:1,name:"Dashboard",icon:"bx bx-home",path:"/dashboard"},{id:2,name:"Employee",icon:"bx bx-user",subRoutes:[{id:1,name:"Add Employee",icon:"bx bx-plus",path:"/add-employee"},{id:2,name:"Employee Details",icon:"bx bx-list-ul",path:"/employee-details"},{id:3,name:"Employee Report",icon:"bx bx-history",path:"/employee-report"}]},{id:3,name:"Laptop",icon:"bx bx-laptop",subRoutes:[{id:1,name:"Add Laptop",icon:"bx bx-plus",path:"/assets-laptop"},{id:2,name:"Laptop Details",icon:"bx bx-list-ul",path:"/laptop-details"},{id:3,name:"Laptop History",icon:"bx bx-history",path:"/assets-laptop-history"},{id:4,name:"Laptop Report",icon:"bx bxs-report",path:"/laptop-report"}]},{id:4,name:"Desktop",icon:"bx bx-desktop",subRoutes:[{id:1,name:"Add Desktop",icon:"bx bx-plus",path:"/assets-desktop"},{id:2,name:"Desktop Details",icon:"bx bx-list-ul",path:"/desktop-details"},{id:3,name:"Desktop History",icon:"bx bx-history",path:"/assets/desktop-history"},{id:4,name:"Desktop Report",icon:"bx bxs-report",path:"/desktop-report"}]},{id:5,name:"Scrap",icon:"bx bx-trash",subRoutes:[{id:1,name:"Add Scrap",icon:"bx bx-trash",path:"/scrap-items"},{id:2,name:"Scrap History",icon:"bx bx-history",path:"/scrap-history"},{id:3,name:"Scrap Report",icon:"bx bxs-report",path:"/scrap-report"}]},{id:6,name:"Domain",icon:"bx bx-network-chart",subRoutes:[{id:1,name:"Add Domain",icon:"bx bx-plus",path:"/add-domain"},{id:2,name:"Domain Details",icon:"bx bx-list-ul",path:"/domain-details"},{id:3,name:"Domain History",icon:"bx bx-history",path:"/domain-history"},{id:4,name:"Domain Report",icon:"bx bxs-report",path:"/domain-report"}]},{id:7,name:"CCTV",icon:"bx bx-camera",subRoutes:[{id:1,name:"Add CCTV",icon:"bx bx-plus",path:"/add-cctv"},{id:2,name:"CCTV Details",icon:"bx bx-detail",path:"/cctv-details"},{id:3,name:"CCTV History",icon:"bx bx-history",path:"/cctv-history"},{id:4,name:"CCTV Report",icon:"bx bxs-report",path:"/cctv-report"}]},{id:8,name:"Dongle",icon:"bx bx-plug",subRoutes:[{id:1,name:"Add Dongle",icon:"bx bx-plug",path:"/add-dongle"},{id:2,name:"Dongle Details",icon:"bx bx-detail",path:"/dongle-details"},{id:3,name:"Dongle History",icon:"bx bx-history",path:"/dongle-history"},{id:4,name:"Dongle Report",icon:"bx bxs-report",path:"/dongle-report"}]},{id:9,name:"Printer",icon:"bx bx-printer",subRoutes:[{id:1,name:"Add Printer",icon:"bx bx-printer",path:"/add-printer"},{id:2,name:"Printer Details",icon:"bx bx-detail",path:"/printer-details"},{id:3,name:"Printer History",icon:"bx bx-history",path:"/printer-history"},{id:4,name:"Printer Report",icon:"bx bxs-report",path:"/printer-report"}]},{id:10,name:"Projector",icon:"bx bx-tv",subRoutes:[{id:1,name:"Add Projector",icon:"bx bx-plus",path:"/add-projector"},{id:2,name:"Projector Details",icon:"bx bx-info-circle",path:"/projector-details"},{id:3,name:"Projector History",icon:"bx bx-history",path:"/projector-history"},{id:4,name:"Projector Report",icon:"bx bx-bar-chart-alt",path:"/projector-report"}]},{id:11,name:"Tablet",icon:"bx bx-tab",subRoutes:[{id:1,name:"Add Tablet",icon:"bx bx-plus",path:"/add-tablet"},{id:2,name:"Tablet Details",icon:"bx bx-info-circle",path:"/tablet-details"},{id:3,name:"Tablet History",icon:"bx bx-history",path:"/tablet-history"},{id:4,name:"Tablet Report",icon:"bx bx-bar-chart-alt",path:"/tablet-report"}]},{id:12,name:"Phone",icon:"bx bx-phone",subRoutes:[{id:1,name:"Add Phone",icon:"bx bx-plus",path:"/add-phone"},{id:2,name:"Phone Details",icon:"bx bx-detail",path:"/phone-details"},{id:3,name:"Phone History",icon:"bx bx-history",path:"/phone-history"},{id:4,name:"Phone Report",icon:"bx bxs-report",path:"/phone-report"}]}].map((e=>(0,r.jsxs)("li",{children:[(0,r.jsxs)("a",{href:e.path,className:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{return e.subRoutes&&(s=e.id,void i((e=>(0,a.A)((0,a.A)({},e),{},{[s]:!e[s]}))));var s},children:[(0,r.jsx)("span",{className:"".concat(e.icon),style:{color:"#FF735C"}}),(0,r.jsx)("span",{className:"flex-1 ml-3 whitespace-nowrap",children:e.name}),e.subRoutes&&(0,r.jsx)("svg",{className:"w-3 h-3 transform ".concat(t[e.id]?"rotate-180":""),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),t[e.id]&&e.subRoutes&&(0,r.jsx)("ul",{className:"pl-8 mt-4 space-y-2",children:e.subRoutes.map((s=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:s.path,className:"flex items-center p-2 text-gray-700 rounded-lg dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,r.jsx)("span",{className:"".concat(s.icon),style:{color:"#FF735C"}}),(0,r.jsx)("span",{className:"ml-3",children:s.name})]})},"".concat(e.id,"-").concat(s.id))))})]},e.id)))})})})]})}}}]);
//# sourceMappingURL=5078.55ba402e.chunk.js.map